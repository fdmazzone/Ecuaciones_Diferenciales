\documentclass{article}
%\documentclass[hyperref={colorlinks=true}]{beamer}
%\documentclass[handout,hyperref={colorlinks=true}]{beamer}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Paquetes%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{empheq}
\usepackage[spanish]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{times}
%\usepackage[T1]{fontenc}
\usepackage{amssymb,amsmath}
\usepackage{enumerate}
\usepackage{verbatim}
\usepackage{ esint }
%\usepackage{pst-all}
%\usepackage{pstricks-add}
\usepackage{array}
%\usepackage[T1]{fontenc}
\usepackage{animate}
%\usepackage{media9}
\usepackage{xparse}
\usepackage{listings}
\usepackage{ wasysym }
\usepackage{sagetex}
\usepackage{yfonts,mathrsfs,eufrak}
\usepackage{hyperref}
\usepackage{color}
\usepackage{url}


\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  language=Python,                 % the language of the code
  otherkeywords={*,...},           % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                   % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}


%%%%%%%%%%%%%%%%%%%%%%%%%%Nuevos comandos entornos%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{demo}{\noindent\emph{Dem.}}{$\square$ \newline\vspace{5pt}}
\newenvironment{block}[1]{\textbf{#1}}{}
\newcommand{\com}{\mathbb{C}}
\newcommand{\dis}{\mathbb{D}}
\newcommand{\rr}{\mathbb{R}}
\newcommand{\oo}{\mathcal{O}}
\renewcommand{\emph}[1]{\textcolor[rgb]{1,0,0}{#1}}
\newcommand{\der}[2]{\frac{\partial #1}{\partial #2}}
\renewcommand{\v}[1]{\overrightarrow{#1}}
\renewcommand{\epsilon}{\varepsilon}
%\newcommand{\defverbatim}{\def{#1}}
\newcommand{\nl}{ }
\renewenvironment{frame}[1]{}{}
\newcommand{\qed}{$\square$}
\DeclareMathOperator{\atan2}{atan2}
\DeclareMathOperator{\sen}{sen}


% %%%%%%%%%%Definimos una caja con color
% \newlength\mytemplen
% \newsavebox\mytempbox
% \makeatletter
% \newcommand\mybluebox{%
% \@ifnextchar[%]
% {\@mybluebox}%
% {\@mybluebox[0pt]}}
% \def\@mybluebox[#1]{%
% \@ifnextchar[%]
% {\@@mybluebox[#1]}%
% {\@@mybluebox[#1][0pt]}}
% \def\@@mybluebox[#1][#2]#3{
% \sbox\mytempbox{#3}%
% \mytemplen\ht\mytempbox
% \advance\mytemplen #1\relax
% \ht\mytempbox\mytemplen
% \mytemplen\dp\mytempbox
% \advance\mytemplen #2\relax
% \dp\mytempbox\mytemplen
% \colorbox{myblue}{\hspace{1em}\usebox{\mytempbox}\hspace{1em}}}
% \makeatother
% \DeclareDocumentCommand\boxedeq{ m g }{%
% {\begin{empheq}[box={\mybluebox[2pt][2pt]}]{equation}% #1%
% \IfNoValueF {#2} {\label{#2}}%
% #1
% \end{empheq}
% }%
% }


%%%%%%%%%%%%%%%%%%
\newtheorem{teorema}{Teorema}[section]
\newtheorem{lema}[teorema]{Lema}
\newtheorem{corolario}[teorema]{Corolario}
\newtheorem{proposicion}[teorema]{Proposici\'on}
\newtheorem{definicion}[teorema]{Definici\'on}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%Para escibir en clase articulo o similar






\title{Breve introducción a Python y SymPy}
\author{Fernando Mazzone}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}

  \maketitle




\section[Descripción]{Descripción}

\href{https://www.python.org/}{Python} es un lenguaje de programación interpretado, abierto, facil de aprender, potente y portátil. Es utilizado en proyectos de todo tipo, no sólo aplicaciones científicas. \marginpar{\includegraphics[scale=.08]{imagenes/python-logo.png} }




\href{http://www.scipy.org/}{SciPy}, Python científico, es un conjunto de módulos de python para distintos tipos de cálculos. Está integrado por los módulos, SymPy (para cálculos simbólicos), numpy (cálculos numéricos), matplotlib (gráficos) entre otros.  En este curso sólo usaremos SymPy.\marginpar{\includegraphics[scale=.6]{imagenes/scipy_logo.png} }




\href{http://www.sympy.org/}{SymPy}
es una biblioteca de Python para matemática simbólica. Su objetivo es convertirse en un sistema de álgebra computacional (SAC) completo, manteniendo el código lo más simple posible para que sea comprensible y fácilmente extensible. SymPy está escrito enteramente en Python y no requiere de ninguna biblioteca externa.\marginpar{\includegraphics[scale=.25]{imagenes/sympy_logo.png}}

\href{http://www.sagemath.org/}{SageMath}  es un sistema de software de matemáticas, libre, de código abierto bajo la licencia GPL. Es construído sobre  muchos paquetes de código abierto existentes: NumPy, SciPy, matplotlib, SymPy, Maxima, GAP, FLINT, R y muchos más. Se acceda a su poder combinado a través de un lenguaje común, basado en Python.\marginpar{\includegraphics[scale=.13]{imagenes/sage_logo.png} }




\section{Local y online} 

Se pueden usar todos los recursos anteriores de dos formas
\begin{enumerate}
\item Instalando el software necesario en una computadora. Nos referiremos a este modo como de acceso local.

\item A traves de trasacciones en línea que permiten usar una computadora remota que ejecuta las instrucciones y programas que se tipean en una página web con la que se interactúa usualmente por medio de un navegador.  Hay varios sitios que ofrecen este servicio. Sugerimos la \href{https://cloud.sagemath.com/}{SageMathCloud}. El usuario debe registrase.
\end{enumerate}



\section{Instalación local}

Hay mucho software dedicado a gestionar el uso de python, recomendamos las siguientes por la sencillez de la instalación.  

\subsection{Windows} La distribución  \href{https://code.google.com/p/pythonxy/}{python(x,y)}  instala el interprete de python y todos los módulos de scipy. Además el entorno de desarrollo integrado (IDE) spyder.

Lamentablemente no es posible instalar SageMath en windows, sólo se instala bajo linux.

\subsection{linux} Aquí todo es más sencillo, el interprete de python suele venir con la distribución del SO y se puede instalar los módulos, SymPy, NumPy, etc, recurriendo al administrador de paquetes o tipeando la sentencia adecuada en la línea de comandos.  Para instalar SAGE se lo descarga de la página oficial y se descomprime.

\subsection{Android} \href{http://qpython.com/}{Qpython} es una aplicación que permite ejecutar código python y una versión básica de sympy desde tablets y smartphones. Se descarga desde la plataforma \href{https://play.google.com/store/apps/details?id=com.hipipal.qpyplus}{google play}.

\subsection{Otros recursos de utilidad:} Tanto para linux o windows \href{http://ipython.org}{ipython}, \href{http://continuum.io/downloads}{Anaconda}, \href{http://www.gnu.org/software/emacs/}{emacs}.


\section{Forma de trabajo: por medio de scripts e interactiva}


Se puede trabajar de dos formas

\begin{enumerate}
\item Interactivamente, ingresando sentencias, de a una por vez, en la línea de comandos y obteniendo respuestas.

\item Haciendo un script (programa) donde se guardan todas las sentencias que se desea ejecutar. Posteriormente este script se puede ejecutar, ya sea desde la línea de comandos o en desde un IDE (spyder) oprimiendo un botón de ejecución.

\end{enumerate}





\section{Características del Lenguaje}

Seguiremos en esta exposición a \cite{wiki_python} de manera cercana. Las principales características del lenguaje son:

\begin{itemize}
\item Interpretado. Es necesario un conjutno de programas, el interprete, que entienda el código python y ejecute las acciones contenidas en él.
\item implementa  tipos dinámicos
\item  Multiparadigma, ya que soporta orientación a objetos, programación imperativa y, en menor medida, programación funcional.
\item Multiplataforma.

\item Es comprendido  con facilidad. Usa  palabras donde otros lenguajes utilizarían símbolos. Por ejemplo, los operadores lógicos \verb~!, || y \&\&~ en Python se escriben not, or y and, respectivamente.


\item  El contenido de los bloques de código (bucles, funciones, clases, etc.) es delimitado mediante espacios o tabuladores.

\item Empieza a contar desde cero (elementos en listas, vectores, etc).



\end{itemize}




\section{Elementos del Lenguaje}

\subsection{Comentarios}

Hay dos formas de producir comentarios, texto que el interprete  no ejecuta y que sirve para entender un programa.

La primera, para comentarios largos es utilizanda la notación \linebreak\verb~''' comentario '''~ .


 La segunda notación utiliza el símbolo \verb~#~, no necesita símbolo de finalización pues se extienden hasta el final de la línea.

 \begin{lstlisting}
'''
Comentario  largo en un script de Python
'''
print "Hola mundo" # Comentario corto
\end{lstlisting}

El intérprete no tiene en cuenta los comentarios, lo cual es útil si deseamos poner información adicional en nuestro código como, por ejemplo, una explicación sobre el comportamiento de una sección del programa.






\begin{lstlisting}
x = 1
x = "texto" # Esto es posible porque los tipos son asignados \
dinamicamente
\end{lstlisting}



\subsection{Variables}
Las variables se definen de forma dinámica, lo que significa que no se tiene que especificar cuál es su tipo de antemano y que una variable puede tomar distintos valores en distintos momentos de un programa, incluso puede tomar
 un tipo diferente al que tenía previamente. Se usa el símbolo = para asignar valores a variables. Es importante distinguir este = (de asignación) con el igual que es utilizado para definir igualdades en sympy, para ecuaciones por ejemplo.




\subsection{Tipo de datos}

\includegraphics[scale=.4]{imagenes/tipo_datos.jpg}

Se clasifican en:
\begin{description}
 \item[Mutable] si su contenido puede cambiarse.
 \item[Inmutable] si su contenido no puede cambiarse.
\end{description}

Se usa el comando \verb~\type~ para averiguar que tipo de dato contiene una variable

 \begin{lstlisting}
>>> x=1
>>> type(x)
<type 'int'>
>>> x='Ecuaciones'
>>> type(x)
<type 'str'>
\end{lstlisting}





\subsection{Listas y tuples}


\begin{itemize}

\item Es una estructura de dato, que contiene, como su nombre lo indica, listas de otros datos en cierto orden. Listas y tuplas son muy similares.

\item Para declarar una lista se usan los corchetes [], en cambio, para declarar una tupla se usan los paréntesis (). En ambos casos los elementos se separan por comas, y en el caso de las tuplas es necesario que tengan como mínimo una coma.

\item    Tanto las listas como las tuplas pueden contener elementos de diferentes tipos. No obstante las listas suelen usarse para elementos del mismo tipo en cantidad variable mientras que las tuplas se reservan para elementos distintos en cantidad fija.
    
\item Para acceder a los elementos de una lista o tupla se utiliza un índice entero (empezando por "0", no por "1"). Se pueden utilizar índices negativos para acceder elementos a partir del final.


\item Las listas se caracterizan por ser mutables, mientras que las tuplas son inmutables.

\end{itemize}






\begin{lstlisting}
>>> lista = ["abc", 42, 3.1415]
>>> lista[0] # Acceder a un elemento por su indice
'abc'
>>> lista[-1] # Acceder a un elemento usando un indice negativo
3.1415
>>> lista.append(True) # Agregar un elemento al final de la lista
>>> lista
['abc', 42, 3.1415, True]
>>> del lista[3] # Borra un elemento de la lista usando un indice
>>> lista[0] = "xyz" # Re-asignar el valor del primer elemento
>>> lista[0:2] # elementos del indice "0" al "2" (sin incluir  ultimo)
['xyz', 42]
>>> lista_anidada = [lista, [True, 42L]] # Es posible anidar listas
>>> lista_anidada
[['xyz', 42, 3.1415], [True, 42L]]
>>> lista_anidada[1][0] # Acceder a un elemento de una lista dentro de otra lista
True
\end{lstlisting}

\begin{lstlisting}
>>> tupla = ("abc", 42, 3.1415)
>>> tupla[0] # Acceder a un elemento por su indice
'abc'
>>> del tupla[0] # No es posible borrar ni agregar
( Excepcion )
>>> tupla[0] = "xyz" # Tampoco es posible re-asignar
( Excepcion )
>>> tupla[0:2] # elementos del indice "0" al "2" sin incluir
('abc', 42)
>>> tupla_anidada = (tupla, (True, 3.1415)) # es posible anidar
>>> 1, 2, 3, "abc" # Esto tambien es una tupla
(1, 2, 3, 'abc')
>>> (1) #  no es una tupla, ya que no posee al menos una coma
1
>>> (1,) # si es una tupla
(1,)
>>> (1, 2) # Con mas de un elemento no es necesaria la coma final
(1, 2)
>>> (1, 2,) # Aunque agregarla no modifica el resultado
(1, 2)
\end{lstlisting}

\subsection{Diccionarios}
\begin{itemize}
\item    Para declarar un diccionario se usan las llaves \verb~\{\}~. Contienen elementos separados por comas, donde cada elemento está formado por un par clave:valor (el símbolo : separa la clave de su valor correspondiente).
 \item   Los diccionarios son mutables, es decir, se puede cambiar el contenido de un valor en tiempo de ejecución.
\item    En cambio, las claves de un diccionario deben ser inmutables. Esto quiere decir, por ejemplo, que no podremos usar ni listas ni diccionarios como claves.
\item    El valor asociado a una clave puede ser de cualquier tipo de dato, incluso un diccionario.

\end{itemize}






\begin{lstlisting}
>>> dicci = {"cadena": "abc", "numero": 42, "lista": [True, 42L]}
>>> dicci["cadena"] # Usando una clave, se accede a su valor
'abc'
>>> dicci["lista"][0]
True
>>> dicci["cadena"] = "xyz" # Re-asignar el valor de una clave
>>> dicci["cadena"]
'xyz'
>>> dicci["decimal"] = 3.1415927 # nuevo elemento clave:valor
>>> dicci["decimal"]
3.1415927
>>> dicci_mixto = {"tupla": (True, 3.1415), "diccionario": dicci}
>>> dicci_mixto["diccionario"]["lista"][1]
42L
>>> dicci = {("abc",): 42} # tupla puede ser clave pues es inmutable
>>> dicci = {["abc"]: 42} # No es posible que una clave sea una lista
( Excepcion )
\end{lstlisting}



\subsection{Listas por comprensión}
Una lista por comprensión es una expresión compacta para definir listas. Al igual que el operador lambda, aparece en lenguajes funcionales. Ejemplos:


\begin{lstlisting}
>>> range(5) #  "range" devuelve una lista, empezando en 0 \
y terminando con el numero indicado menos uno
[0, 1, 2, 3, 4]
>>> [i*i for i in range(5)]
[0, 1, 4, 9, 16]
>>> lista = [(i, i + 2) for i in range(5)]
>>> lista
[(0, 2), (1, 3), (2, 4), (3, 5), (4, 6)]
\end{lstlisting}



\subsection{Funciones}
\begin{itemize}

  \item  Las funciones se definen con la palabra clave \verb~def~, seguida del nombre de la función y sus parámetros. Otra forma de escribir funciones, aunque menos utilizada, es con la palabra clave \verb~lambda~ (que aparece en lenguajes funcionales como Lisp). Generalemente esta forma es apropiada para funciones que es posible definir en una sola línea.

  \item  El valor devuelto en las funciones con \verb~def~ será el dado con la instrucción \verb~return~.
  \end{itemize}


\begin{lstlisting}
>>> def suma(x, y = 2): # el argumento y tiene un valor por defecto
...     return x + y # Retornar la suma
...
>>> suma(4) # La variable "y" no se modifica, siendo su valor: 2
6
>>> suma(4, 10) # La variable "y" si se modifica
14
\end{lstlisting}


\begin{lstlisting}
>>> suma = lambda x, y = 2: x + y
>>> suma(4) # La variable "y" no se modifica
6
>>> suma(4, 10) # La variable "y" si se modifica
14
\end{lstlisting}

\subsection{Condicionales}
 Una sentencia condicional (\verb~if condicion~) ejecuta su bloque de código interno sólo si \verb~condicion~ tiene el valor bolleano \verb~True~.  Condiciones adicionales, si las hay, se introducen usando \verb~elif~ seguida de la condición y su bloque de código. Todas las condiciones se evalúan secuencialmente hasta encontrar la primera que sea verdadera, y su bloque de código asociado es el único que se ejecuta. Opcionalmente, puede haber un bloque final (la palabra clave \verb~else~ seguida de un bloque de código) que se ejecuta sólo cuando todas las condiciones fueron falsas.



\begin{lstlisting}
>>> verdadero = True
>>> if verdadero: # No es necesario poner "verdadero == True"
...     print "Verdadero"
... else:
...     print "Falso"
...
Verdadero
>>> lenguaje = "Python"
>>> if lenguaje == "C": 
...     print "Lenguaje de programacion: C"
... elif lenguaje == "Python": # Se pueden agregar "elif" como se quiera
...     print "Lenguaje de programacion: Python"
... else: 
...     print "Lenguaje de programacion: indefinido"
...
Lenguaje de programacion: Python
>>> if verdadero and lenguaje == "Python": 
...     print "Verdadero y Lenguaje de programacion: Python"
...
Verdadero y Lenguaje de programacion: Python
\end{lstlisting}






\subsection{Bucles}
El bucle \verb~for~ es similar a  otros lenguajes. Recorre un objeto iterable, esto es  una lista o una tupla, y por cada elemento del iterable ejecuta el bloque de código interno. Se define con la palabra clave \verb~for~ seguida de un nombre de variable, seguido de \verb~in,~ seguido del iterable, y finalmente el bloque de código interno. En cada iteración, el elemento siguiente del iterable se asigna al nombre de variable especificado:

\begin{lstlisting}
>>> lista = ["a", "b", "c"]
>>> for i in lista: # Iteramos sobre una lista, que es iterable
...     print i
...
a
b
c
>>> cadena = "abcdef"
>>> for i in cadena: # Iteramos sobre una cadena, que es iterable
...     print i, # una coma al final evita un salto de linea
...
a b c d e f
\end{lstlisting}



%El bucle \verb~while~ evalúa una condición y, si es verdadera, ejecuta el bloque de código interno. Continúa evaluando y ejecutando mientras la condición sea verdadera. Se define con la palabra clave }verb~while~ seguida de la condición, y a continuación el bloque de código interno:
\begin{lstlisting}
>>> numero = 0
>>> while numero < 10:
...     print numero
...     numero += 1,  #un buen programador modificara las variables de control al finalizar el ciclo while
...
0 1 2 3 4 5 6 7 8 9
\end{lstlisting}



 \bibliographystyle{plain}
 \bibliography{biblio}


\end{document}





